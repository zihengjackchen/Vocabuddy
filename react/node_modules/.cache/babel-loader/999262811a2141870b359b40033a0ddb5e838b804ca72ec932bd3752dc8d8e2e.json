{"ast":null,"code":"var _jsxFileName = \"/Users/ziheng/UIUC Courses/SP24/CS411-Vocabuddy/react/src/components/Schools/Schools.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Box, List, ListItem, ListItemText, Button, MenuItem, Select, FormControl, InputLabel } from '@mui/material';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n// Make sure the import matches your file structure and export\n\nfunction Schools() {\n  _s();\n  const [schools, setSchools] = useState([]);\n  const [page, setPage] = useState(1);\n  const [pageSize, setPageSize] = useState(10);\n  const [totalSchools, setTotalSchools] = useState(0);\n  useEffect(() => {\n    fetchSchools();\n  }, [page, pageSize]);\n  const fetchSchools = async () => {\n    const startId = (page - 1) * pageSize + 1;\n    const endId = startId + pageSize - 1;\n    try {\n      const response = await axios.get(`/api/Schools/?s_SchoolId=${startId}&e_SchoolId=${endId}`);\n      setSchools(response.data.schools); // Adjust based on actual API response structure\n      setTotalSchools(response.data.total); // Assume total number of schools is returned\n    } catch (error) {\n      console.error('Failed to fetch schools:', error);\n      setSchools([]); // Clear schools on error\n    }\n  };\n  const handlePageChange = newPage => {\n    setPage(newPage);\n  };\n  const handlePageSizeChange = event => {\n    setPageSize(parseInt(event.target.value, 10)); // Parse string to integer\n    setPage(1); // Reset to first page with new page size\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      width: '100%',\n      typography: 'body1'\n    },\n    children: [/*#__PURE__*/_jsxDEV(FormControl, {\n      fullWidth: true,\n      children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n        id: \"page-size-label\",\n        children: \"Schools Per Page\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Select, {\n        labelId: \"page-size-label\",\n        id: \"page-size-select\",\n        value: pageSize.toString() // Convert number to string for Select value\n        ,\n        label: \"Schools Per Page\",\n        onChange: handlePageSizeChange,\n        sx: {\n          mb: 2\n        },\n        children: [10, 20, 50].map(size => /*#__PURE__*/_jsxDEV(MenuItem, {\n          value: size.toString(),\n          children: size\n        }, size, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(List, {\n      children: schools.map(school => /*#__PURE__*/_jsxDEV(ListItem, {\n        children: /*#__PURE__*/_jsxDEV(ListItemText, {\n          primary: school.SchoolName,\n          secondary: school.SchoolRank\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this)\n      }, school.SchoolId, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      justifyContent: \"center\",\n      my: 2,\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => handlePageChange(page - 1),\n        disabled: page === 1,\n        children: \"Previous\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => handlePageChange(page + 1),\n        disabled: page * pageSize >= totalSchools,\n        children: \"Next\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n_s(Schools, \"VO2hI2XRL/UY80zbjJ2XGMEJ6AA=\");\n_c = Schools;\nexport default Schools;\nvar _c;\n$RefreshReg$(_c, \"Schools\");","map":{"version":3,"names":["React","useState","useEffect","Box","List","ListItem","ListItemText","Button","MenuItem","Select","FormControl","InputLabel","axios","jsxDEV","_jsxDEV","Schools","_s","schools","setSchools","page","setPage","pageSize","setPageSize","totalSchools","setTotalSchools","fetchSchools","startId","endId","response","get","data","total","error","console","handlePageChange","newPage","handlePageSizeChange","event","parseInt","target","value","sx","width","typography","children","fullWidth","id","fileName","_jsxFileName","lineNumber","columnNumber","labelId","toString","label","onChange","mb","map","size","school","primary","SchoolName","secondary","SchoolRank","SchoolId","display","justifyContent","my","onClick","disabled","_c","$RefreshReg$"],"sources":["/Users/ziheng/UIUC Courses/SP24/CS411-Vocabuddy/react/src/components/Schools/Schools.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Box, Tab, Tabs, TextField, Typography, List, ListItem, ListItemText, Button, MenuItem, Select, FormControl, InputLabel, SelectChangeEvent } from '@mui/material';\nimport axios from 'axios';\n\nimport { School } from '../../types'; // Make sure the import matches your file structure and export\n\nfunction Schools() {\n  const [schools, setSchools] = useState<School[]>([]);\n  const [page, setPage] = useState<number>(1);\n  const [pageSize, setPageSize] = useState<number>(10);\n  const [totalSchools, setTotalSchools] = useState<number>(0);\n\n  useEffect(() => {\n    fetchSchools();\n  }, [page, pageSize]);\n\n  const fetchSchools = async () => {\n    const startId = (page - 1) * pageSize + 1;\n    const endId = startId + pageSize - 1;\n    try {\n      const response = await axios.get(`/api/Schools/?s_SchoolId=${startId}&e_SchoolId=${endId}`);\n      setSchools(response.data.schools); // Adjust based on actual API response structure\n      setTotalSchools(response.data.total); // Assume total number of schools is returned\n    } catch (error) {\n      console.error('Failed to fetch schools:', error);\n      setSchools([]); // Clear schools on error\n    }\n  };\n\n  const handlePageChange = (newPage: number) => {\n    setPage(newPage);\n  };\n\n  const handlePageSizeChange = (event: SelectChangeEvent<string>) => {\n    setPageSize(parseInt(event.target.value, 10)); // Parse string to integer\n    setPage(1); // Reset to first page with new page size\n  };\n\n  return (\n    <Box sx={{ width: '100%', typography: 'body1' }}>\n      <FormControl fullWidth>\n        <InputLabel id=\"page-size-label\">Schools Per Page</InputLabel>\n        <Select\n          labelId=\"page-size-label\"\n          id=\"page-size-select\"\n          value={pageSize.toString()} // Convert number to string for Select value\n          label=\"Schools Per Page\"\n          onChange={handlePageSizeChange}\n          sx={{ mb: 2 }}\n        >\n          {[10, 20, 50].map((size) => (\n            <MenuItem key={size} value={size.toString()}>{size}</MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n      <List>\n        {schools.map((school) => (\n          <ListItem key={school.SchoolId}>\n            <ListItemText primary={school.SchoolName} secondary={school.SchoolRank} />\n          </ListItem>\n        ))}\n      </List>\n      <Box display=\"flex\" justifyContent=\"center\" my={2}>\n        <Button onClick={() => handlePageChange(page - 1)} disabled={page === 1}>Previous</Button>\n        <Button onClick={() => handlePageChange(page + 1)} disabled={page * pageSize >= totalSchools}>Next</Button>\n      </Box>\n    </Box>\n  );\n}\n\nexport default Schools;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}