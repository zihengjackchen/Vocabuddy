{"ast":null,"code":"var _jsxFileName = \"/Users/ziheng/UIUC Courses/SP24/CS411-Vocabuddy/react/src/Components/Library/libraryView.tsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState, Component } from \"react\";\nimport axios from \"axios\";\nimport { Link } from 'react-router-dom';\nimport './libraryView.css';\nimport { initializeApp } from \"firebase/app\";\nimport { getAuth } from \"firebase/auth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst firebaseConfig = {\n  apiKey: \"AIzaSyC4vQuvO7NBuzxXDoLth59z8CQ1MhmGRWU\",\n  authDomain: \"cs409-final-project.firebaseapp.com\",\n  projectId: \"cs409-final-project\",\n  storageBucket: \"cs409-final-project.appspot.com\",\n  messagingSenderId: \"663281725811\",\n  appId: \"1:663281725811:web:f2b0f610827996041bd506\",\n  measurementId: \"G-2MKGQ4WF9H\"\n};\nclass ExerciseSelector extends Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(Link, {\n      to: `/exercise/${this.props._id}`,\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"iconButton\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"iconPicture\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: this.props.picURL,\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"iconInfo\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"iconInfoName\",\n            children: this.props.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"iconInfoBodyPart\",\n            children: this.props.bodyParts.join(\", \")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }, this);\n  }\n}\nexport default function LibraryView() {\n  _s();\n  const api = axios.create({\n    baseURL: \"https://cs409-fp.herokuapp.com/api/exercises\"\n  });\n  const exerciseData = api.get('?limit=484');\n  const [bodyPart, setBodyPart] = useState(\"\");\n  const [exerciseList, setExerciseList] = useState([]);\n  const [filterExerciseList, setFilterExerciseList] = useState([]);\n  const bodyParts = [\"All\", \"Arms\", \"Abs\", \"Back\", \"Butt/Hips\", \"Chest\", \"Legs - Thighs\", \"Full Body/Integrated\", \"Shoulders\"];\n  const fb_app = initializeApp(firebaseConfig);\n  const auth = getAuth(fb_app);\n  const user = auth.currentUser;\n  useEffect(() => {\n    try {\n      if (exerciseList.length === 0) {\n        exerciseData.then(async res => {\n          res.data.data.forEach(exerciseData => {\n            let _id = exerciseData._id;\n            let name = exerciseData.name;\n            let picURL = exerciseData.picURL;\n            let description = exerciseData.description;\n            let vidURL = exerciseData.vidURL;\n            let bodyParts = exerciseData.bodyParts;\n            let userId = exerciseData.userId;\n            setExerciseList(cur => [...cur, {\n              _id,\n              name,\n              description,\n              picURL,\n              vidURL,\n              bodyParts,\n              userId\n            }]);\n          });\n        });\n      }\n    } catch (e) {\n      console.log(e);\n    }\n    if (bodyPart === \"\" || bodyPart === \"all\") {\n      setFilterExerciseList(exerciseList.filter(el => el.userId === \"\" || user && user.uid === el.userId));\n    } else {\n      setFilterExerciseList(exerciseList.filter(el => el.bodyParts.some(el => el.toLowerCase() === bodyPart.toLowerCase()) && (el.userId === \"\" || user && user.uid === el.userId)));\n    }\n  }, [exerciseList, bodyPart]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"LibraryContainer\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"typeFilter\",\n      children: bodyParts.map(type => /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"typeButton\",\n        onClick: () => setBodyPart(type.toLocaleLowerCase()),\n        children: type\n      }, type, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"exerciseGallery\",\n      children: filterExerciseList.map(({\n        _id,\n        name,\n        description,\n        picURL,\n        vidURL,\n        bodyParts,\n        userId\n      }) => {\n        return /*#__PURE__*/_jsxDEV(ExerciseSelector, {\n          _id: _id,\n          name: name,\n          description: description,\n          picURL: picURL,\n          vidURL: vidURL,\n          bodyParts: bodyParts,\n          userId: userId\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 36\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 9\n  }, this);\n}\n_s(LibraryView, \"kHpkw9J77xtidde1Jn2WsOyTpyE=\");\n_c = LibraryView;\nvar _c;\n$RefreshReg$(_c, \"LibraryView\");","map":{"version":3,"names":["useEffect","useState","Component","axios","Link","initializeApp","getAuth","jsxDEV","_jsxDEV","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","ExerciseSelector","render","to","props","_id","children","className","src","picURL","alt","fileName","_jsxFileName","lineNumber","columnNumber","name","bodyParts","join","LibraryView","_s","api","create","baseURL","exerciseData","get","bodyPart","setBodyPart","exerciseList","setExerciseList","filterExerciseList","setFilterExerciseList","fb_app","auth","user","currentUser","length","then","res","data","forEach","description","vidURL","userId","cur","e","console","log","filter","el","uid","some","toLowerCase","map","type","onClick","toLocaleLowerCase","_c","$RefreshReg$"],"sources":["/Users/ziheng/UIUC Courses/SP24/CS411-Vocabuddy/react/src/Components/Library/libraryView.tsx"],"sourcesContent":["import { useEffect, useState, Component} from \"react\"\nimport axios from \"axios\"\nimport { Link } from 'react-router-dom'\nimport './libraryView.css'\nimport { initializeApp } from \"firebase/app\";\nimport { getAuth } from \"firebase/auth\";\nconst firebaseConfig = {\n    apiKey: \"AIzaSyC4vQuvO7NBuzxXDoLth59z8CQ1MhmGRWU\",\n    authDomain: \"cs409-final-project.firebaseapp.com\",\n    projectId: \"cs409-final-project\",\n    storageBucket: \"cs409-final-project.appspot.com\",\n    messagingSenderId: \"663281725811\",\n    appId: \"1:663281725811:web:f2b0f610827996041bd506\",\n    measurementId: \"G-2MKGQ4WF9H\"\n};\n\ninterface ExerciseData {\n    _id: string,\n    name: string,\n    description: string,\n    picURL: string,\n    vidURL: string,\n    bodyParts: [string]\n    userId: string | null\n}\n\nclass ExerciseSelector extends Component<ExerciseData, {}> {\n    render() {\n        return (\n            <Link to={`/exercise/${this.props._id}`} >\n                <button className=\"iconButton\">\n                    <div className=\"iconPicture\">\n                        <img src={ this.props.picURL } alt=\"\"/>\n                    </div>\n                    <div className=\"iconInfo\">\n                        <div className=\"iconInfoName\">{ this.props.name}</div>\n                        <div className=\"iconInfoBodyPart\">{ this.props.bodyParts.join(\", \")}</div>\n                    </div>\n                </button>\n            </Link>\n        )\n    }\n}\n\nexport default function LibraryView() {\n    const api = axios.create ( {\n        baseURL: \"https://cs409-fp.herokuapp.com/api/exercises\"\n    })\n    const exerciseData = api.get('?limit=484')\n\n    const [bodyPart, setBodyPart] = useState(\"\")\n    const [exerciseList, setExerciseList] = useState<ExerciseData[]>([])\n    const [filterExerciseList, setFilterExerciseList] = useState<ExerciseData[]>([])\n    const bodyParts = [\"All\", \"Arms\", \"Abs\", \"Back\", \"Butt/Hips\", \"Chest\", \"Legs - Thighs\", \"Full Body/Integrated\", \"Shoulders\"]\n    const fb_app = initializeApp(firebaseConfig);\n    const auth = getAuth(fb_app);\n    const user = auth.currentUser;\n\n\n    useEffect(() => {\n        try {\n            if (exerciseList.length === 0) {\n                exerciseData.then(\n                    async (res) => {\n                        res.data.data.forEach((exerciseData: ExerciseData) => {\n                            let _id = exerciseData._id\n                            let name = exerciseData.name\n                            let picURL = exerciseData.picURL\n                            let description = exerciseData.description\n                            let vidURL = exerciseData.vidURL\n                            let bodyParts = exerciseData.bodyParts\n                            let userId = exerciseData.userId\n                            setExerciseList(cur => [...cur, {_id, name, description, picURL, vidURL, bodyParts, userId}])\n                        })\n                    }\n                )\n            }\n        } catch (e) {\n            console.log(e)\n        }\n\n        if (bodyPart === \"\" || bodyPart === \"all\") {\n            setFilterExerciseList(exerciseList.filter(el => el.userId === \"\" || (user && user.uid === el.userId)))\n        } else {\n            setFilterExerciseList(\n                exerciseList.filter(\n                    el => el.bodyParts.some(\n                        el => el.toLowerCase() === bodyPart.toLowerCase()) && (el.userId === \"\" || (user && user.uid === el.userId))\n                )\n            )\n        }\n    }, [exerciseList, bodyPart])\n\n    return (\n        <div className=\"LibraryContainer\">\n            <div className=\"typeFilter\">\n                { bodyParts.map((type:string) => (\n                    <button key={type} className=\"typeButton\" onClick={()=>setBodyPart(type.toLocaleLowerCase())}>{type}</button>\n                    ))\n                }\n            </div>\n            <div className=\"exerciseGallery\">\n                {\n                    filterExerciseList.map(\n                        ({_id, name, description, picURL, vidURL, bodyParts, userId}: ExerciseData) => {\n                            return <ExerciseSelector\n                                _id={_id}\n                                name={name}\n                                description={description}\n                                picURL={picURL}\n                                vidURL={vidURL}\n                                bodyParts={bodyParts}\n                                userId={userId}\n                            />\n                        }\n                    )\n                }\n            </div>\n        </div>\n    )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}